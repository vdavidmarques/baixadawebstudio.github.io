var body = document.querySelector("body");

document.addEventListener("DOMContentLoaded", () => {
  const links = document.querySelectorAll("footer nav a");
  links.forEach((link) => {
    link.addEventListener("click", (event) => {
      event.preventDefault();
      const id = link.getAttribute("href").substring(1);
      loadPopupContent(id);
    });
  });
});

function loadPopupContent(id) {
  fetch("./popup-content.html")
    .then((response) => response.text())
    .then((data) => {
      const parser = new DOMParser();
      const doc = parser.parseFromString(data, "text/html");
      const content = doc.querySelector(`#${id}`).innerHTML;
      showPopup(content);
    })
    .catch((error) => console.error("Error loading popup content:", error));
}

function showPopup(content) {
  const popup = document.createElement("div");
  popup.classList.add("popup");
  popup.innerHTML = `<div class="popup-content"><span class="close">&times;</span><p>${content}</p></div>`;
  document.body.appendChild(popup);
  body.classList.add("overflow-hidden");
  document.querySelector(".popup .close").addEventListener("click", () => {
    document.body.removeChild(popup);
    body.classList.remove("overflow-hidden");
  });
}

document.addEventListener("DOMContentLoaded", () => {
  const blocks = document.querySelectorAll(".scroll-effect");

  const handleScroll = () => {
    const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
    const windowHeight = window.innerHeight;

    blocks.forEach((block) => {
      const blockTop = block.getBoundingClientRect().top + scrollTop;
      if (scrollTop + windowHeight > blockTop + 50) {
        block.classList.add("visible");
      } else {
        block.classList.remove("visible");
      }
    });
  };

  window.addEventListener("scroll", handleScroll);
  handleScroll(); // Trigger once on load to show blocks in view
});

document.addEventListener("DOMContentLoaded", function () {
  const navLeft = document.getElementById("nav-left");
  const navRight = document.getElementById("nav-right");
  const menuSlider = document.querySelector(".menu-slider");

  const scrollAmount = 200;

  navLeft.addEventListener("click", function () {
    menuSlider.scrollBy({
      left: -scrollAmount,
      behavior: "smooth",
    });
  });

  navRight.addEventListener("click", function () {
    menuSlider.scrollBy({
      left: scrollAmount,
      behavior: "smooth",
    });
  });
});
